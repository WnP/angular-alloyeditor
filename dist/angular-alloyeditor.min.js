!function(t,n){"use strict";"function"==typeof define&&define.amd?define(["angular"],n):n(angular)}(this,function(t){"use strict";function n(t,n){function e(t,n){if(!n.id)throw Error("The alloy-editor element must have id attribute.");return{post:o,pre:i}}function o(e,o,i,r){function a(){["change","blur"].forEach(function(t){l.onEvent(t,function(){d.$setViewValue(l.nativeEditor().getData()||"")})}),e.$watch(i.readonly,c),l.onEvent("focus",function(){d.$setTouched()}),n(function(){t(i.onready)(e)})}function c(t,n){t!==n&&l.nativeEditor().setReadOnly(Boolean(t))}function u(){l.ready().then(function(){l.nativeEditor().setData(d.$viewValue||"",{callback:function(){l.nativeEditor().fire("updateSnapshot")},noSnapshot:!0})})}var l=r[0],d=r[1];l.ready().then(a),d.$render=u}function i(n,e,o,i){var r=i[0],a=e.find("div"),c=o.id+"-content";a.attr("id",c);var u=t(o.config)(n);r.createInstance(c,u)}var r={compile:e,controller:"AlloyEditorController",controllerAs:"alloyEditorCtrl",require:["alloyEditor","ngModel"],restrict:"E",template:'<div class="alloy-editor"></div>'};return r}function e(t,n,e,o){function i(){return d.promise}function r(){return u.get("nativeEditor")}function a(t,n){return u=AlloyEditor.editable(t,n),c("instanceReady",function(){d.resolve(!0)}),u}function c(t,o){function i(){var t=arguments;e(function(){a.apply(null,t)})}function a(){var t=arguments;n.$apply(function(){o.apply(null,t)})}return r().on(t,i),function(){r().removeListener(t,a)}}var u,l=this,d=t.defer();l.createInstance=a,l.onEvent=c,l.ready=i,l.nativeEditor=r,n.$on("$destroy",function(){d.promise.then(function(){try{u.destroy()}catch(t){o.debug("Cannot destroy instance:",t)}})}),n.$on("destroy-alloyeditor",function(){d.promise.then(function(){try{u.destroy()}catch(t){o.debug("Cannot destroy instance from custom event:",t)}})})}t.module("alloyeditor",[]).controller("AlloyEditorController",e).directive("alloyEditor",n),n.$inject=["$parse","$timeout"],e.$inject=["$q","$scope","$timeout","$log"]});
//# sourceMappingURL=angular-alloyeditor.min.js.map

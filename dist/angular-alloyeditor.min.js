!function(t,n){"function"==typeof define&&define.amd?define(["angular"],n):n(angular)}(this,function(t){"use strict";var n=t.module("alloyeditor",[]);n.directive("alloyEditor",["$q","$parse","$timeout",function(t,n,e){function o(t,n,e,o){var i=o[0],r=(o[1],n.find("div"));r.attr("id",e.id+"-content"),i.createInstance(r.attr("id"))}function i(t,o,i,r){var a=r[0],c=r[1];o.find("div");a.ready().then(function(){["change","blur"].forEach(function(t){a.onEvent(t,function(){c.$setViewValue(a.nativeEditor().getData()||"")})}),t.$watch(i.readonly,function(t,n){t!=n&&a.nativeEditor().setReadOnly(!!t)}),a.onEvent("focus",function(){c.$setTouched()}),e(function(){n(i.onready)(t)})}),c.$render=function(){a.ready().then(function(){a.nativeEditor().setData(c.$viewValue||"",{noSnapshot:!0,callback:function(){a.nativeEditor().fire("updateSnapshot")}})})}}function r(t,n,e){if(!n.id)throw Error("The alloy-editor element must have id attribute.");return{pre:o,post:i}}var a=["$q","$scope",function(t,n){var o,i=this,r=t.defer();i.createInstance=function(t){console.log("teste 01",t,AlloyEditor,AlloyEditor.editable),o=AlloyEditor.editable(t),console.log("teste 02"),i.onEvent("instanceReady",function(){r.resolve(!0)}),console.log("teste 03")},i.onEvent=function(t,o){function r(){var t=arguments;e(function(){a.apply(null,t)})}function a(){var t=arguments;n.$apply(function(){o.apply(null,t)})}return i.nativeEditor().on(t,r),function(){i.nativeEditor().removeListener(t,a)}},i.ready=function(){return r.promise},i.nativeEditor=function(){return o.get("nativeEditor")},n.$on("$destroy",function(){r.promise.then(function(){o.destroy()})})}];return{restrict:"E",require:["alloyEditor","ngModel"],template:'<div class="alloy-editor"></div>',controller:a,compile:r}}])});
//# sourceMappingURL=angular-alloyeditor.min.js.map

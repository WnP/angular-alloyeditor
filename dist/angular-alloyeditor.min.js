!function(t,n){"use strict";"function"==typeof define&&define.amd?define(["angular"],n):n(angular)}(this,function(t){"use strict";function n(t,n){function e(t,n){if(!n.id)throw Error("The alloy-editor element must have id attribute.");return{post:o,pre:i}}function o(e,o,i,r){function a(){["change","blur"].forEach(function(t){l.onEvent(t,function(){u.$setViewValue(l.nativeEditor().getData()||"")})}),e.$watch(i.readonly,function(t,n){t!==n&&l.nativeEditor().setReadOnly(Boolean(t))}),l.onEvent("focus",function(){u.$setTouched()}),n(function(){t(i.onready)(e)})}function c(){l.ready().then(function(){l.nativeEditor().setData(u.$viewValue||"",{callback:function(){l.nativeEditor().fire("updateSnapshot")},noSnapshot:!0})})}var l=r[0],u=r[1];l.ready().then(a),u.$render=c}function i(t,n,e,o){var i=o[0],r=n.find("div");r.attr("id",e.id+"-content"),i.createInstance(r.attr("id"))}var r={compile:e,controller:"AlloyEditorController",controllerAs:"alloyEditorCtrl",require:["alloyEditor","ngModel"],restrict:"E",template:'<div class="alloy-editor"></div>'};return r}function e(t,n,e){function o(){return u.promise}function i(){return c.get("nativeEditor")}function r(t){return c=AlloyEditor.editable(t),a("instanceReady",function(){u.resolve(!0)}),c}function a(t,o){function r(){var t=arguments;e(function(){a.apply(null,t)})}function a(){var t=arguments;n.$apply(function(){o.apply(null,t)})}return i().on(t,r),function(){i().removeListener(t,a)}}var c,l=this,u=t.defer();l.createInstance=r,l.onEvent=a,l.ready=o,l.nativeEditor=i,n.$on("$destroy",function(){u.promise.then(function(){c.destroy()})})}t.module("alloyeditor",[]).controller("AlloyEditorController",e).directive("alloyEditor",n),n.$inject=["$parse","$timeout"],e.$inject=["$q","$scope","$timeout"]});
//# sourceMappingURL=angular-alloyeditor.min.js.map
